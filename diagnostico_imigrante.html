<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assistente MigratÃ³rio HumanitÃ¡rio â€“ Evoluzion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .flag { width: 24px; height: 16px; margin-right: 8px; vertical-align: middle; }
        button {
            padding: 12px 18px;
            background-color: #e5e7eb; /* Cor padrÃ£o dos botÃµes */
            border-radius: 8px;
            font-weight: 500;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
        }
        button:hover {
            background-color: #d1d5db;
        }
        button.selected {
            background-color: #fde047; /* Amarelo */
            color: #1f2937; /* Texto escuro para contraste */
            font-weight: bold;
        }
        #resultado {
            white-space: pre-wrap; /* Permite quebras de linha e espaÃ§os no texto */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900">

    <header class="bg-gray-800 text-white py-6 text-center shadow-md">
        <h1 class="text-3xl font-bold">ğŸŒ Assistente MigratÃ³rio HumanitÃ¡rio</h1>
        <p class="mt-2 text-sm">Vamos te ajudar com AMIZADE, clareza e caminhos possÃ­veis!</p>
    </header>

    <main class="max-w-4xl mx-auto px-4 py-8 space-y-10">

        <section>
            <h2 class="text-xl font-semibold mb-4">1ï¸âƒ£ Seu paÃ­s de origem?</h2>
            <select id="paisOrigem" class="w-full p-3 border rounded">
                <option value="">â€“ Escolha â€“</option>
                <option value="Brasil">ğŸ‡§ğŸ‡· Brasil</option>
                <option value="China">ğŸ‡¨ğŸ‡³ China</option>
                <option value="India">ğŸ‡®ğŸ‡³ Ãndia</option>
                <option value="Russia">ğŸ‡·ğŸ‡º RÃºssia</option>
                <option value="AfricaDoSul">ğŸ‡¿ğŸ‡¦ Ãfrica do Sul</option>
                <option value="Marrocos">ğŸ‡²ğŸ‡¦ Marrocos</option>
            </select>
        </section>

        <section>
            <h2 class="text-xl font-semibold mb-4">2ï¸âƒ£ Para qual paÃ­s vai ou jÃ¡ estÃ¡?</h2>
            <select id="paisDestino" class="w-full p-3 border rounded">
                <option value="">â€“ Escolha â€“</option>
                <option value="Brasil">ğŸ‡§ğŸ‡· Brasil</option>
                <option value="Schengen">ğŸ‡ªğŸ‡º UniÃ£o Europeia (Schengen)</option>
                <option value="Russia">ğŸ‡·ğŸ‡º RÃºssia</option>
                <option value="Marrocos">ğŸ‡²ğŸ‡¦ Marrocos</option>
                <option value="EUA">ğŸ‡ºğŸ‡¸ Estados Unidos</option>
                <option value="Canada">ğŸ‡¨ğŸ‡¦ CanadÃ¡</option>
            </select>
        </section>

        <section>
            <h2 class="text-xl font-semibold mb-4">3ï¸âƒ£ O que busca?</h2>
            <div id="opcoes" class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                <button data-type="Visita">Visto de Visita</button>
                <button data-type="Trabalho">Visto de Trabalho</button>
                <button data-type="Temp">ResidÃªncia TemporÃ¡ria</button>
                <button data-type="Perm">ResidÃªncia Permanente</button>
                <button data-type="Refugio">RefÃºgio</button>
                <button data-type="Anistia">Anistia</button>
            </div>
        </section>

        <section id="resultadoContainer" class="hidden bg-yellow-50 p-6 rounded shadow-lg border-l-4 border-yellow-500">
            <h2 class="text-2xl font-bold text-yellow-800 mb-4">ğŸ“‹ Seu Roteiro MigratÃ³rio HumanitÃ¡rio</h2>
            <p id="textoResultado" class="text-gray-800 text-base leading-relaxed"></p>
            <div class="mt-8 text-center">
                <a href="https://wa.me/5544984342756" target="_blank"
                   class="inline-flex items-center bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-full font-semibold transition shadow-lg transform hover:scale-105">
                    <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"></path><path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd"></path></svg>
                    Fale com nosso especialista!
                </a>
            </div>
        </section>

    </main>

    <footer class="bg-gray-900 text-white text-center text-sm py-4 mt-10">
        Assistente humanitÃ¡rio â€“ Evol.U.Zion ğŸŒ
    </footer>

    <script>
        let tipoEscolhido = ''; // VariÃ¡vel para armazenar o tipo de serviÃ§o selecionado
        const paisOrigemSelect = document.getElementById('paisOrigem');
        const paisDestinoSelect = document.getElementById('paisDestino');
        const opcoesDiv = document.getElementById('opcoes');
        const resultadoContainer = document.getElementById('resultadoContainer');
        const textoResultado = document.getElementById('textoResultado');

        // --- Base de Conhecimento (Dados do MVP) ---
        // ESTES SÃƒO EXEMPLOS! PRECISE SER COMPLETA E VALIDADA.
        const dadosPaises = {
            Brasil: {
                moeda: 'Real (R$)',
                passaporte: {
                    valor: 'R$â€¯257,25',
                    link: 'https://www.gov.br/pt-br/servicos/obter-passaporte-comum-para-brasileiro',
                    requisitos: 'Documento de identidade, CPF, tÃ­tulo de eleitor, comprovante de quitaÃ§Ã£o militar (homens).'
                },
                servicosComuns: {
                    traducaoJuramentada: 'R$ 150 - R$ 300 por pÃ¡gina (aprox.)',
                    apostilamento: 'R$ 50 - R$ 150 por documento (aprox.)'
                }
            },
            China: {
                moeda: 'Yuan (CNY)',
                passaporte: {
                    valor: 'CNYâ€¯120 (~US$18)',
                    link: 'http://', // SUBSTITUIR POR LINK OFICIAL
                    requisitos: 'Identidade chinesa, fotos.'
                },
                servicosComuns: {
                    traducaoJuramentada: 'CNY 200 - 500 por pÃ¡gina',
                    apostilamento: 'CNY 100 - 300 por documento'
                }
            },
            India: {
                moeda: 'RÃºpia Indiana (â‚¹)',
                passaporte: {
                    valor: 'â‚¹â€¯1â€¯500 (normal) / â‚¹â€¯3â€¯500 (urgÃªncia)',
                    link: 'http://', // SUBSTITUIR POR LINK OFICIAL
                    requisitos: 'Comprovante de endereÃ§o, prova de cidadania.'
                },
                servicosComuns: {
                    traducaoJuramentada: 'â‚¹ 1000 - 2500 por pÃ¡gina',
                    apostilamento: 'â‚¹ 500 - 1500 por documento'
                }
            },
            Russia: {
                moeda: 'Rublo (RUB)',
                passaporte: {
                    valor: 'RUBâ€¯2000 (~US$25)',
                    link: 'https://www.kdmid.ru/',
                    requisitos: 'Documentos de identificaÃ§Ã£o, fotos.'
                },
                servicosComuns: {
                    traducaoJuramentada: 'RUB 1500 - 4000 por pÃ¡gina',
                    apostilamento: 'RUB 800 - 2500 por documento'
                }
            },
            AfricaDoSul: {
                moeda: 'Rand (ZAR)',
                passaporte: {
                    valor: 'US$â€¯67 (comum)', // Valor em USD para facilitar comparaÃ§Ã£o
                    link: 'http://', // SUBSTITUIR POR LINK OFICIAL
                    requisitos: 'Identidade nacional, comprovante de residÃªncia.'
                },
                servicosComuns: {
                    traducaoJuramentada: 'ZAR 300 - 700 por pÃ¡gina',
                    apostilamento: 'ZAR 150 - 400 por documento'
                }
            },
            Marrocos: {
                moeda: 'Dirham Marroquino (MAD)',
                passaporte: {
                    valor: 'MAD 300 (~US$30)',
                    link: 'http://', // SUBSTITUIR POR LINK OFICIAL
                    requisitos: 'CartÃ£o de identificaÃ§Ã£o nacional, fotos.'
                },
                servicosComuns: {
                    traducaoJuramentada: 'MAD 200 - 500 por pÃ¡gina',
                    apostilamento: 'MAD 100 - 250 por documento'
                }
            },
            Schengen: { // UniÃ£o Europeia (Schengen) - dados gerais
                moeda: 'Euro (â‚¬)',
                passaporte: { valor: 'Consultar consulado do paÃ­s de destino na UE' },
                servicosComuns: {
                    traducaoJuramentada: 'â‚¬ 30 - â‚¬ 80 por pÃ¡gina (varia por paÃ­s/idioma)',
                    apostilamento: 'â‚¬ 20 - â‚¬ 50 por documento (varia por paÃ­s)'
                }
            },
            EUA: {
                moeda: 'DÃ³lar (US$)',
                passaporte: { valor: 'Consultar consulado do paÃ­s de destino' },
                servicosComuns: {
                    traducaoJuramentada: 'US$ 20 - US$ 50 por pÃ¡gina',
                    apostilamento: 'US$ 10 - US$ 20 por documento'
                }
            },
            Canada: {
                moeda: 'DÃ³lar Canadense (CAD)',
                passaporte: { valor: 'Consultar consulado do paÃ­s de destino' },
                servicosComuns: {
                    traducaoJuramentada: 'CAD 25 - CAD 75 por pÃ¡gina',
                    apostilamento: 'CAD 10 - CAD 30 por documento'
                }
            }
        };

        const dadosVistos = {
            Marrocos: {
                Visita: {
                    info: 'Visto dispensado para a maioria das nacionalidades para estadias de atÃ© 90 dias. Ã‰ necessÃ¡rio passaporte vÃ¡lido por no mÃ­nimo 6 meses.',
                    orgao: 'Entrada pelo controle de fronteiras marroquino',
                    custoTaxa: 'N/A',
                    documentos: 'Passaporte, passagem de retorno, comprovaÃ§Ã£o de meios financeiros.',
                    link: 'https://www.diplomatie.ma/'
                },
                Trabalho: { // Exemplo mais detalhado
                    info: 'Exige oferta de trabalho de empregador marroquino e autorizaÃ§Ã£o de trabalho emitida pelas autoridades marroquinas. Processo complexo.',
                    orgao: 'MinistÃ©rio do Emprego e Assuntos Sociais de Marrocos; Consulado/Embaixada de Marrocos em seu paÃ­s de origem.',
                    custoTaxa: 'MAD 500 - MAD 1000 (taxas governamentais, pode variar)',
                    documentos: 'Contrato de trabalho, diploma(s), certidÃµes, antecedentes criminais, passaporte.',
                    link: 'https://www.diplomatie.ma/'
                }
            },
            Schengen: {
                Visita: {
                    info: 'Visto Schengen para turismo. Permite estadia de atÃ© 90 dias em um perÃ­odo de 180 dias. Solicitar no consulado do paÃ­s de entrada ou de maior permanÃªncia.',
                    orgao: 'Consulado/Embaixada do paÃ­s membro Schengen de destino em seu paÃ­s de origem.',
                    custoTaxa: 'â‚¬ 90 (adultos) / â‚¬ 45 (crianÃ§as 6-12 anos)',
                    documentos: 'Passaporte vÃ¡lido, formulÃ¡rio de visto, foto, seguro viagem (mÃ­n. â‚¬ 30.000 cobertura), comprovaÃ§Ã£o de meios financeiros, reserva de hotel/carta convite, passagem aÃ©rea.',
                    link: 'https://brasil.diplo.de/br-pt/servicos/vistos/schengen/schengen-2610370'
                },
                Trabalho: {
                    info: 'Cada paÃ­s da UniÃ£o Europeia tem regras especÃ­ficas para vistos de trabalho. Geralmente exige oferta de emprego e autorizaÃ§Ã£o.',
                    orgao: 'Consulado/Embaixada do paÃ­s especÃ­fico da UE.',
                    custoTaxa: 'Varia por paÃ­s (â‚¬ 70 - â‚¬ 150 ou mais)',
                    documentos: 'Contrato de trabalho, qualificaÃ§Ãµes, antecedentes criminais, seguro saÃºde.',
                    link: 'https://ec.europa.eu/home-affairs/policies/migration-and-asylum/legal-migration-and-integration/work-visas_en'
                }
            },
            EUA: {
                Visita: {
                    info: 'Visto de NÃ£o-Imigrante B1/B2 (NegÃ³cios/Turismo). NecessÃ¡rio entrevista consular.',
                    orgao: 'Embaixada/Consulados dos EUA em seu paÃ­s de origem.',
                    custoTaxa: 'US$ 185 (taxa MRV)',
                    documentos: 'Passaporte vÃ¡lido (mÃ­n. 6 meses apÃ³s a data pretendida de estadia), formulÃ¡rio DS-160, comprovante de meios financeiros, vÃ­nculos com paÃ­s de origem.',
                    link: 'https://ceac.state.gov/genniv/'
                },
                Trabalho: {
                    info: 'Diversos tipos de visto de trabalho (H1B, L1, O1 etc.), cada um com requisitos especÃ­ficos e complexos, geralmente exigindo petiÃ§Ã£o aprovada pelo empregador nos EUA.',
                    orgao: 'USCIS (ServiÃ§os de Cidadania e ImigraÃ§Ã£o dos EUA) e Embaixada/Consulados dos EUA.',
                    custoTaxa: 'US$ 185 (taxa MRV do visto) + taxas de petiÃ§Ã£o (US$ 460 - US$ 4.000+ dependendo do visto)',
                    documentos: 'PetiÃ§Ã£o aprovada, qualificaÃ§Ã£o profissional, antecedentes criminais.',
                    link: 'https://www.uscis.gov/working-in-the-united-states'
                }
            },
            Canada: {
                Visita: {
                    info: 'Visto de Visitante (Temporary Resident Visa - TRV) ou eTA (AutorizaÃ§Ã£o EletrÃ´nica de Viagem) para cidadÃ£os elegÃ­veis. Pedido online.',
                    orgao: 'Immigration, Refugees and Citizenship Canada (IRCC) - online.',
                    custoTaxa: 'CAD 100 por pessoa (TRV) / CAD 7 (eTA)',
                    documentos: 'Passaporte vÃ¡lido, formulÃ¡rio online, comprovante de meios financeiros, passagem de retorno, carta convite (se aplicÃ¡vel).',
                    link: 'https://www.canada.ca/en/immigration-refugees-citizenship/services/visit-canada.html'
                },
                Refugio: {
                    info: 'Processo de solicitaÃ§Ã£o de RefÃºgio. Exige que a pessoa tenha uma base para o pedido de proteÃ§Ã£o.',
                    orgao: 'Immigration, Refugees and Citizenship Canada (IRCC) e Conselho de ImigraÃ§Ã£o e RefÃºgio do CanadÃ¡ (IRB).',
                    custoTaxa: 'Geralmente nÃ£o hÃ¡ taxa para o pedido de refÃºgio em si, mas pode haver custos com documentos e serviÃ§os jurÃ­dicos.',
                    documentos: 'FormulÃ¡rio de solicitaÃ§Ã£o, documentos de identificaÃ§Ã£o, provas que justifiquem o medo de perseguiÃ§Ã£o no paÃ­s de origem.',
                    link: 'https://www.canada.ca/en/immigration-refugees-citizenship/services/refugees/claim-canada.html'
                }
            },
            // Adicione mais dados para "ResidÃªncia TemporÃ¡ria", "ResidÃªncia Permanente", "Anistia", etc., para cada paÃ­s
            // Exemplo para Brasil (entrada como RefÃºgio)
            Brasil: {
                Refugio: {
                    info: 'Processo de solicitaÃ§Ã£o de refÃºgio no Brasil. Conforme a Lei nÂº 9.474/1997.',
                    orgao: 'PolÃ­cia Federal (PF) - Unidade de Protocolo; ComitÃª Nacional para os Refugiados (CONARE) â€“ MinistÃ©rio da JustiÃ§a.',
                    custoTaxa: 'NÃ£o hÃ¡ taxa para o pedido de refÃºgio.',
                    documentos: 'Documento de identificaÃ§Ã£o (se possuir), formulÃ¡rio de solicitaÃ§Ã£o preenchido, relatos e provas dos motivos do pedido de refÃºgio.',
                    link: 'https://www.gov.br/mj/pt-br/assuntos/seus-direitos/refugio'
                },
                Perm: {
                    info: 'ResidÃªncia Permanente no Brasil (por reuniÃ£o familiar, investimento, aposentadoria etc.).',
                    orgao: 'PolÃ­cia Federal (PF); MinistÃ©rio da JustiÃ§a e SeguranÃ§a PÃºblica.',
                    custoTaxa: 'Taxas para emissÃ£o de Carteira de Registro Nacional MigratÃ³rio (CRNM) e taxa de processamento de pedido.',
                    documentos: 'Passaporte, certidÃµes, antecedentes criminais, comprovantes de meios de subsistÃªncia, formulÃ¡rios especÃ­ficos.',
                    link: 'https://www.gov.br/pt-br/servicos/obter-autorizacao-de-residencia-para-imigrantes'
                }
            }
        };

        // --- FunÃ§Ãµes de LÃ³gica ---

        // FunÃ§Ã£o para selecionar o tipo de serviÃ§o e atualizar a interface
        function selecionarTipo(event) {
            const clickedButton = event.target;
            // Remover 'selected' de todos os botÃµes
            document.querySelectorAll('#opcoes button').forEach(btn => {
                btn.classList.remove('selected');
            });
            // Adicionar 'selected' ao botÃ£o clicado
            clickedButton.classList.add('selected');
            tipoEscolhido = clickedButton.dataset.type; // Pega o valor do atributo data-type
            montarResultado(); // Chama a funÃ§Ã£o para montar o resultado
        }

        // FunÃ§Ã£o principal para montar o resultado
        function montarResultado() {
            const paisOrigem = paisOrigemSelect.value;
            const paisDestino = paisDestinoSelect.value;

            // SÃ³ gera o resultado se os 3 campos principais estiverem preenchidos
            if (!paisOrigem || !paisDestino || !tipoEscolhido) {
                resultadoContainer.classList.add('hidden'); // Esconde o resultado se incompleto
                return;
            }

            let msg = ``;
            let custoTotalEstimado = 0;

            msg += `âœ¨ **InformaÃ§Ãµes para vocÃª:**\n\n`;
            msg += `ğŸŒ **Seu caminho:** De **${paisOrigem}** para **${paisDestino}**, buscando **${tipoEscolhido}**.\n\n`;

            // --- Dados do PaÃ­s de Origem (Passaporte) ---
            const infoOrigem = dadosPaises[paisOrigem];
            if (infoOrigem && infoOrigem.passaporte) {
                msg += `--- Passaporte em **${paisOrigem}** ---\n`;
                msg += `ğŸ“ **Custo estimado:** ${infoOrigem.passaporte.valor}\n`;
                msg += `âœ… **Requisitos comuns:** ${infoOrigem.passaporte.requisitos || 'Consultar Ã³rgÃ£o oficial.'}\n`;
                msg += `ğŸ”— **Link oficial:** ${infoOrigem.passaporte.link || 'N/A'}\n\n`;
                // Tenta adicionar o custo do passaporte ao total, se for numÃ©rico
                const valorPassaporte = parseFloat(infoOrigem.passaporte.valor.replace(/[^\d,.]/g, '').replace(',', '.'));
                if (!isNaN(valorPassaporte)) {
                    custoTotalEstimado += valorPassaporte;
                }
            } else {
                msg += `--- InformaÃ§Ãµes de passaporte para ${paisOrigem} nÃ£o disponÃ­veis ou nÃ£o aplicÃ¡veis. ---\n\n`;
            }

            // --- Dados do Visto/ResidÃªncia no PaÃ­s de Destino ---
            const infoVisto = dadosVistos[paisDestino] && dadosVistos[paisDestino][tipoEscolhido];
            if (infoVisto) {
                msg += `--- Detalhes para **${tipoEscolhido}** em **${paisDestino}** ---\n`;
                msg += `ğŸ’¡ **Tipo de processo:** ${infoVisto.info}\n`;
                msg += `ğŸ›ï¸ **Ã“rgÃ£o(s) responsÃ¡vel(is):** ${infoVisto.orgao}\n`;
                msg += `ğŸ’° **Custo da taxa oficial:** ${infoVisto.custoTaxa}\n`;
                msg += `ğŸ“„ **Documentos e requisitos principais:** ${infoVisto.documentos}\n`;
                msg += `ğŸ”— **Link oficial:** ${infoVisto.link || 'N/A'}\n\n`;
                // Tenta adicionar o custo da taxa oficial ao total
                const valorVisto = parseFloat(infoVisto.custoTaxa.replace(/[^\d,.]/g, '').replace(',', '.'));
                if (!isNaN(valorVisto)) {
                    custoTotalEstimado += valorVisto;
                }
            } else if (paisDestino === 'Marrocos' && tipoEscolhido === 'Visita') {
                msg += `--- Detalhes para **${tipoEscolhido}** em **${paisDestino}** ---\n`;
                msg += `ğŸ’¡ **Visto:** NÃ£o exigido para a maioria das nacionalidades para estadias de atÃ© 90 dias. Apenas passaporte vÃ¡lido.\n`;
                msg += `ğŸ”— **Link oficial:** https://www.diplomatie.ma/\n\n`;
            } else {
                msg += `--- InformaÃ§Ãµes para **${tipoEscolhido}** em **${paisDestino}** ---\n`;
                msg += `ğŸ’¡ **InformaÃ§Ã£o:** Para este tipo de serviÃ§o e paÃ­s, por favor, **consulte diretamente o consulado ou embaixada** do ${paisDestino} em seu paÃ­s de origem para detalhes especÃ­ficos, documentos e taxas. As regras variam muito!\n`;
                msg += `ğŸ” Recomendamos buscar a representaÃ§Ã£o diplomÃ¡tica de ${paisDestino} no ${paisOrigem}.\n\n`;
            }

            // --- Custos de ServiÃ§os Terceirizados ---
            const servicosTerceirizados = dadosPaises[paisOrigem]?.servicosComuns || dadosPaises[paisDestino]?.servicosComuns;
            if (servicosTerceirizados) {
                msg += `--- Custos Adicionais Estimados (Terceiros) ---\n`;
                msg += `âš–ï¸ **TraduÃ§Ã£o Juramentada:** ${servicosTerceirizados.traducaoJuramentada || 'Consultar tradutor juramentado'}\n`;
                msg += `ğŸ“œ **Apostilamento (Haia):** ${servicosTerceirizados.apostilamento || 'Consultar cartÃ³rio ou Ã³rgÃ£o competente'}\n`;
                msg += `ğŸ‘¨â€âš–ï¸ **Assessoria JurÃ­dica/Advogado:** Recomendado para processos complexos (visto de trabalho, residÃªncia, refÃºgio). Custos variam de acordo com o profissional e complexidade do caso (Ex: R$ 5.000 - R$ 20.000+ no Brasil para processos de residÃªncia, ou US$ 1.000 - US$ 10.000+ nos EUA).\n\n`;
            } else {
                 msg += `--- Custos Adicionais Estimados (Terceiros) ---\n`;
                 msg += `âš–ï¸ **TraduÃ§Ã£o Juramentada:** Custos variam bastante. Pesquise por tradutores juramentados em seu paÃ­s/idioma.\n`;
                 msg += `ğŸ“œ **Apostilamento (Haia):** NecessÃ¡rio para validar documentos no exterior. Consulte cartÃ³rios ou Ã³rgÃ£os competentes no paÃ­s emissor do documento.\n`;
                 msg += `ğŸ‘¨â€âš–ï¸ **Assessoria JurÃ­dica/Advogado:** Altamente recomendado para processos complexos, como vistos de trabalho, residÃªncia, refÃºgio ou anistia. Os custos variam muito conforme o profissional e a complexidade do caso.\n\n`;
            }


            // --- Custo Total e ObservaÃ§Ãµes Finais ---
            const moedaFinal = dadosPaises[paisDestino]?.moeda || 'Moeda local';
            msg += `--- Resumo dos Custos (Estimativa) ---\n`;
            msg += `ğŸ’¸ **Custo total estimado (taxas oficiais):** ${moedaFinal} ${custoTotalEstimado.toFixed(2).replace('.', ',')}\n`;
            msg += `*(Este valor nÃ£o inclui passagens, seguro viagem, moradia, ou serviÃ§os de terceiros como advogados/tradutores. Ã‰ uma estimativa das taxas governamentais principais.)*\n\n`;

            msg += `ğŸ“Œ **ObservaÃ§Ãµes Importantes:**\n`;
            msg += `* Preferencialmente online (site oficial) ou presencial conforme consulado/Ã³rgÃ£o.\n`;
            msg += `* As informaÃ§Ãµes podem mudar. Sempre consulte os **links oficiais** fornecidos.\n`;
            msg += `* **Este assistente nÃ£o substitui uma consulta com um advogado de imigraÃ§Ã£o.** Ele fornece um roteiro inicial, mas cada caso Ã© Ãºnico e pode exigir anÃ¡lise e acompanhamento profissional para garantir seguranÃ§a e sucesso no processo.\n\n`;
            msg += `ğŸš€ Com apoio humano, hÃ¡ chances mais rÃ¡pidas e seguras para seu processo.`;

            textoResultado.innerText = msg;
            resultadoContainer.classList.remove('hidden');
            resultadoContainer.scrollIntoView({ behavior: 'smooth' });
        }

        // --- Event Listeners para acionar montarResultado ---
        paisOrigemSelect.addEventListener('change', montarResultado);
        paisDestinoSelect.addEventListener('change', montarResultado);
        opcoesDiv.addEventListener('click', selecionarTipo); // Usa o novo handler

        // Inicializa o estado dos botÃµes ao carregar a pÃ¡gina
        document.addEventListener('DOMContentLoaded', () => {
            // Se houver um tipo jÃ¡ selecionado (por exemplo, se vocÃª quiser prÃ©-selecionar no futuro)
            // Ou apenas garante que nenhum botÃ£o esteja selecionado no inÃ­cio
            document.querySelectorAll('#opcoes button').forEach(btn => {
                btn.classList.remove('selected');
            });
        });
    </script>
</body>
</html>
